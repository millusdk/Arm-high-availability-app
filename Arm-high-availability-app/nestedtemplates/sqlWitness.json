{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "Arm-high-availability-app-baseName": {
      "type": "string"
    },
    "Arm-high-availability-app-vnetID": {
      "type": "string"
    },
    "Arm-high-availability-app-vnetLanName": {
      "type": "string"
    },

    "Arm-high-availability-app-storageType": {
      "type": "string"
    },
    "Arm-high-availability-app-adminUserName": {
      "type": "string",
      "minLength": 1
    },
    "Arm-high-availability-app-adminPassword": {
      "type": "securestring"
    },
    "Arm-high-availability-app-sqlVmSize": {
      "type": "string",
      "defaultValue": "Standard_A1_v2"
    },

    "Arm-high-availability-app-sql-availability-set-name": {
      "type": "string"
    },

    "DomainName": {
      "type": "string"
    },

    "_artifactsLocation": {
      "type": "string",
      "metadata": {
        "description": "Auto-generated container in staging storage account to receive post-build staging folder upload"
      }
    },
    "_artifactsLocationSasToken": {
      "type": "securestring",
      "metadata": {
        "description": "Auto-generated token to access _artifactsLocation"
      }
    }
  },
  "variables": {
    "Arm-high-availability-app-sqlName": "[concat(parameters('Arm-high-availability-app-baseName'),'-', 'sql', 'w')]",
    "Arm-high-availability-app-sqlstorageName": "[replace(concat(variables('Arm-high-availability-app-sqlName'), 'storage'), '-', '')]",
    "Arm-high-availability-app-sqlImagePublisher": "MicrosoftSqlServer",
    "Arm-high-availability-app-sqlImageOffer": "SQL2016SP1-WS2016",
    "Arm-high-availability-app-sqlOSDiskName": "[concat(variables('Arm-high-availability-app-sqlName'), '-', 'osdisk')]",
    "Arm-high-availability-app-sqlSubnetRef": "[concat(parameters('Arm-high-availability-app-vnetID'), '/subnets/', parameters('Arm-high-availability-app-vnetLanName'))]",
    "Arm-high-availability-app-sqlStorageAccountContainerName": "vhds",
    "Arm-high-availability-app-sqlNicName": "[concat(variables('Arm-high-availability-app-sqlName'), '-', 'nic01')]",
    "Arm-high-availability-app-sqlWindowsOSVersion": "SQLDEV"
  },
  "resources": [
    {
      "name": "[variables('Arm-high-availability-app-sqlstorageName')]",
      "type": "Microsoft.Storage/storageAccounts",
      "location": "[resourceGroup().location]",
      "apiVersion": "2016-01-01",
      "sku": {
        "name": "[parameters('Arm-high-availability-app-storageType')]"
      },
      "dependsOn": [],
      "tags": {
        "displayName": "Arm-high-availability-app-sql-storage"
      },
      "kind": "Storage"
    }
  ],
  "outputs": {}
}